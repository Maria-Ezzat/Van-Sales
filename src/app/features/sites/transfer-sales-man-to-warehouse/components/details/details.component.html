<div *ngIf="isLoading" class="d-flex flex-column align-items-center justify-content-center py-5">
  <div class="spinner-border color-purple-700  mb-3" role="status"></div>
  <p class="text-muted">{{ "sites.transferSalesManToSalesMan.Loading..." | translate }}</p>
</div>

<div *ngIf="!isLoading && item" class="container py-5">

  <!-- Header -->
  <div class="d-flex align-items-center mb-4">
    <img 
      src="/assets/icons/keyboard_backspace.svg"
      class="me-3 pointer"
      style="width: 30px; height: 30px;"
      routerLink="/sites/transferSalesManToWarehouse"
      alt="Back" 
    />
    <h2 class="mb-0  color-purple-400">{{ "sites.transferSalesManToSalesMan.transactionDetails" | translate }}</h2>
  </div>

  <!-- Transaction Info Cards -->
 <div class="row g-3 mb-4">
    <div class="col-md-6">
      <div class="border rounded shadow-sm p-3 bg-white h-100">
        <div class="text-muted small">{{ "sites.transferWarehouseToSalesMan.salesMan" | translate }}</div>
        <div class="fw-semibold">{{ item.salesManName }}</div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="border rounded shadow-sm p-3 bg-white h-100">
        <div class="text-muted small">{{ "sites.transferWarehouseToSalesMan.Warehouse" | translate }}</div>
        <div class="fw-semibold">{{ item.warehouseName }}</div>
      </div>
    </div>
  </div>

  <!-- Products Table -->
  <div class="mt-5">
    <h4 class="fw-bold color-purple-500">{{ "sites.transferSalesManToSalesMan.products" | translate }}</h4>
    <div class="table-responsive mt-3">
      <table class="table table-hover pointer">
        <thead class="text-white" style="background-color: #6c757d;">
          <tr  class="th-header">
            <th class="text-center" style="width: 50px;">#</th>
            <th>{{ "sites.transferSalesManToSalesMan.product" | translate }}</th>
            <th class="text-center">{{ "sites.transferSalesManToSalesMan.quantity" | translate }}</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let product of item.salesmanToWarehouseTransactionsDetails; let i = index"
              (mouseenter)="hover = i" 
              (mouseleave)="hover = -1"
              [ngClass]="{'table-secondary': hover === i}"
               (click)="goToProductDetails(product.productID)">
            <td class="text-center">{{ i + 1 }}</td>
            <td>{{ product.productName }}</td>
            <td class="text-center">{{ product.quantity }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
