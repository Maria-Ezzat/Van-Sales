<div class="card shadow-sm border-0 rounded-4 p-4" *ngIf="product">

  <div class="d-flex justify-content-between align-items-start">

    <div class="d-flex align-items-center">
      <img src="/assets/icons/keyboard_backspace.svg" class="me-3 pointer" style="width: 24px; height: 24px;"
        routerLink="/sites/product" alt="Back" />
      <div>
        <h2 class="mb-0 color-purple-700">{{ product?.name }}</h2>
        <small class="text-muted">Code: {{ product?.code }}</small>
      </div>
    </div>


    <div class="d-flex align-items-center gap-2">
      <span class="fw-semibold">{{ product?.isActive ? 'Active' : 'Disactive' }}</span>
      <p-inputSwitch [(ngModel)]="product.isActive "></p-inputSwitch>
    </div>
  </div>

  <div class="card-body mt-4">
    <div class="row g-4">

      <!-- Card: Pricing -->
      <div class="col-md-6 col-xl-4">
        <div class="card rounded-4 shadow-sm p-3 h-100">
          <h6 class="text-purple-700 mb-3">üí∞ Pricing</h6>
          <p><strong>Retail:</strong> {{ product.retailPrice | currency }}</p>
          <p><strong>Wholesale:</strong> {{ product.wholesalePrice | currency }}</p>
          <p><strong>VIP:</strong> {{ product.vipClientsPrice | currency }}</p>
        </div>
      </div>

      <!-- Card: Packaging -->
      <div class="col-md-6 col-xl-4">
        <div class="card rounded-4 shadow-sm p-3 h-100">
          <h6 class="text-purple-700 mb-3">üì¶ Packaging</h6>
          <p><strong>Smaller Units:</strong> {{ product.smallerUnitsOfMeasurements }}</p>
          <p><strong>Units/Cartoon:</strong> {{ product.numOfUnitPerCartoon }}</p>
          <p><strong>Safety Stock:</strong> {{ product.safetyStocks }}</p>
        </div>
      </div>

      <!-- Card: Dimensions -->
      <div class="col-md-6 col-xl-4">
        <div class="card rounded-4 shadow-sm p-3 h-100">
          <h6 class="text-purple-700 mb-3">üìè Dimensions</h6>
          <p><strong>Pack Size:</strong> {{ product.packSize }}</p>
          <p><strong>Net Weight (L):</strong> {{ product.netWeightPerLitre }}</p>
          <p><strong>Weight (KG):</strong> {{ product.weightPerKG }}</p>
        </div>
      </div>

      <!-- Card: Classification -->
      <div class="col-md-6 col-xl-4">
        <div class="card rounded-4 shadow-sm p-3 h-100">
          <h6 class="text-purple-700 mb-3">üìö Classification</h6>
          <p><strong>Unit:</strong> {{ product.unit }}</p>
          <p><strong>Grade:</strong> {{ product.grade }}</p>
          <p><strong>Status:</strong> {{ product.productStatus == 1 ? 'Available' : 'Unavailable' }}</p>
        </div>
      </div>

      <!-- Card: Category & Brand -->
      <div class="col-md-6 col-xl-4">
        <div class="card rounded-4 shadow-sm p-3 h-100">
          <h6 class="text-purple-700 mb-3">üè∑Ô∏è Category & Brand</h6>
          <p><strong>Category:</strong> {{ product.categoryName }}</p>
          <p><strong>Product Group:</strong> {{ product.productGroupName }}</p>
          <p><strong>Brand:</strong> {{ product.brandName }}</p>
        </div>
      </div>

      <!-- Card: Extra Info -->
      <div class="col-md-6 col-xl-4">
        <div class="card rounded-4 shadow-sm p-3 h-100">
          <h6 class="text-purple-700 mb-3">üìå Other Info</h6>
          <p><strong>Expiry Date:</strong> {{ product.expiryDate | date }}</p>
          <p><strong>Product API:</strong> {{ product.productAPI }}</p>
        </div>
      </div>

    <!-- Card: Total Stock Summary -->
<div class="col-md-6 col-xl-4">
  <div class="card rounded-4 shadow-sm p-3 h-100 bg-light">
    <h6 class="text-purple-700 mb-3">üì¶ Total Stock</h6>
    <p class="mb-2"><strong>Total Quantity:</strong> {{ product.totalQuantity }}</p>
    <p class="mb-0"><strong>Total Weight:</strong> {{ product.totalWeight }} KG</p>
  </div>
</div>

<!-- Card: Warehouses -->
<div class="col-8">
  <div class="card rounded-4 shadow-sm p-3 h-100">
    <h6 class="text-purple-700 mb-4">üè¨ Warehouses</h6>

    <div class="row g-3">
      <div class="col-md-6 col-xl-4" *ngFor="let warehouse of product.warehouses">
        <div class="card border-0 shadow-sm rounded-4 p-3 h-100 bg-light">
          <h6 class="text-purple-700">{{ warehouse.warehouseName }}</h6>
          <p class="mb-1"><strong>Quantity:</strong> {{ warehouse.quantity }}</p>
          <p class="mb-0"><strong>Weight:</strong> {{ warehouse.weight }} KG</p>
        </div>
      </div>
      <div *ngIf="!product.warehouses?.length" class="text-muted text-center w-100">
        No warehouse data available.
      </div>
    </div>
  </div>
</div>


    </div>
  </div>
</div>